(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9834"],{"32ed":function(s,a,t){"use strict";t.r(a);var r=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("k-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("能力检测")])]),t("ol",[t("li",[s._v("能力检测的目标不是识别特定的浏览器，而是识别浏览器的能力")])]),t("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (object.propertyInQuestion) {\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//使用object.propertyInQuestion")]),s._v("\n}\n")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("IE5.0 之前的版本不支持"),t("code",{pre:!0},[s._v("document.getElementById()")]),s._v("方法。")])]),t("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("getElement")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//先检测最常用的方法，在检测特殊的方法")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById(id);\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".all) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".all[id];\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Error")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"No way to retrieve element!"')]),s._v(");\n}\n")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("一个特性存在，不一定意味着另一个特性也存在")])]),t("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("getWindowWidth")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// IE和Opera都存在document.all，所以不能依据document.all存在而断定就是IE调用特有方法")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".all) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//假设是IE")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".documentElement.clientWidth; "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//错误的用法！！！")]),s._v("\n } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".innerWidth;\n }\n}\n")])])],2),t("k-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("更可靠的能力检测")])]),t("ol",[t("li",[s._v("使用"),t("code",{pre:!0},[s._v("typeof")]),s._v("进行检测")])]),t("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//不要这样做！这不是能力检测——只检测了是否存在相应的方法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("isSortable")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("object")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" !!object.sort;\n}\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 该方法也会检测到sort返回true;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" result = isSortable({ "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sort")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" });\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//这样更好：检查sort 是不是函数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("isSortable")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("object")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" object.sort == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"function"')]),s._v(";\n}\n")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("IE9 以前版本 IE 浏览器 的"),t("code",{pre:!0},[s._v("ActiveXObject")]),s._v("实例化返回对象的方法由于 COM 对象实现所以 "),t("code",{pre:!0},[s._v("typeof")]),s._v(" 不返回标准的"),t("code",{pre:!0},[s._v("function")])])]),t("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//在低版本IE 中会导致错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" xhr = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" ActiveXObject("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Microsoft.XMLHttp"')]),s._v(");\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//这里会发生错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (xhr.open) {\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//执行操作")]),s._v("\n}\n")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("IE 的 COM 对象方法检测")])]),t("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("isHostMethod")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("object, property")]),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" t = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" object[property];\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" t == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"function"')]),s._v(" || !!(t == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"object"')]),s._v(" && object[property]) || t == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"unknown"')]),s._v(";\n}\n\nresult = isHostMethod(xhr, "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"open"')]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//true")]),s._v("\nresult = isHostMethod(xhr, "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"foo"')]),s._v("); "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//false")]),s._v("\n")])]),t("ol",{attrs:{start:"4"}},[t("li",[s._v("能力检测最好一次性检测而不是使用的时候分别检测")])]),t("blockquote",[t("p",[s._v('DOM 对象是宿主对象，IE 及更早版本中的宿主对象是通过 COM 而非 JScript 实现的。\n因此，document.createElement()函数确实是一个 COM 对象，所以 typeof 才会返回"object"。\nIE9 纠正了这个问题，对所有 DOM 方法都返回"function"。')])])],2),t("k-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("怪癖检测")])]),t("p",[s._v("怪癖检测的目标是识别浏览器的特殊行为，也就是部分浏览器的 bug 问题等引起的特殊情况。")]),t("p",[s._v("Safari 3 以前版本使用 for-in 循环枚举带有自定义的 toString()方法的对象，就会返回两个 toString 的实例。")]),t("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" hasEnumShadowsQuirk = ("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" o = { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("toString")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{} };\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" count = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" prop "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" o) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (prop == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"toString"')]),s._v(") {\n     count++;\n   }\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" count > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n})();\n")])])],2),t("k-snippet",{attrs:{title:""}},[t("template",{slot:"title"},[t("p",[s._v("用户代理检测")])]),t("ol",[t("li",[s._v("HTTP 请求过程中，用户代理字符串是作为响应首部发送的，而且该字符串可以通过 JavaScript 的 navigator.userAgent 属性访问。")]),t("li",[s._v("在服务器端，通过检测用户代理字符串来确定用户使用的浏览器是一种常用而且广为接受的做法")]),t("li",[s._v("早期部分浏览器为了兼容其他网站服务后台的访问判断将代理属性伪造"),t("code",{pre:!0},[s._v("Mozilla")]),s._v("等格式，导致代理判断不严格按照标准")]),t("li",[s._v("完整的用户代理检测")])]),t("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[s._v("javascript")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" client = ("),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//呈现引擎")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" engine = {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ie")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("gecko")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("webkit")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("khtml")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("opera")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//完整的版本号")]),s._v("\n   ver: "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n };\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//浏览器")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" browser = {\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//主要浏览器")]),s._v("\n   ie: "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("firefox")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("safari")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("konq")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("opera")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("chrome")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//具体的版本号")]),s._v("\n   ver: "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n };\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//平台、设备和操作系统")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" system = {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("win")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mac")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("x11")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//移动设备")]),s._v("\n   iphone: "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ipod")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ipad")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ios")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("android")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("nokiaN")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("winMobile")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//游戏系统")]),s._v("\n   wii: "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ps")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n };\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//检测呈现引擎和浏览器")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" ua = navigator.userAgent;\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".opera) {\n   engine.ver = browser.ver = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".opera.version();\n   engine.opera = browser.opera = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("(engine.ver);\n } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/AppleWebKit\\/(\\S+)/")]),s._v(".test(ua)) {\n   engine.ver = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("];\n   engine.webkit = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("(engine.ver);\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//确定是Chrome 还是Safari")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/Chrome\\/(\\S+)/")]),s._v(".test(ua)) {\n     browser.ver = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("];\n     browser.chrome = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("(browser.ver);\n   } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/Version\\/(\\S+)/")]),s._v(".test(ua)) {\n     browser.ver = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("];\n     browser.safari = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("(browser.ver);\n   } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n     "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//近似地确定版本号")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" safariVersion = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (engine.webkit < "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(") {\n       safariVersion = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n     } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (engine.webkit < "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("312")]),s._v(") {\n       safariVersion = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.2")]),s._v(";\n     } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (engine.webkit < "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("412")]),s._v(") {\n       safariVersion = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.3")]),s._v(";\n     } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n       safariVersion = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(";\n     }\n     browser.safari = browser.ver = safariVersion;\n   }\n } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/KHTML\\/(\\S+)/")]),s._v(".test(ua) || "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/Konqueror\\/([^;]+)/")]),s._v(".test(ua)) {\n   engine.ver = browser.ver = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("];\n   engine.khtml = browser.konq = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("(engine.ver);\n } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/rv:([^\\)]+)\\) Gecko\\/\\d{8}/")]),s._v(".test(ua)) {\n   engine.ver = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("];\n   engine.gecko = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("(engine.ver);\n   "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//确定是不是Firefox")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/Firefox\\/(\\S+)/")]),s._v(".test(ua)) {\n     browser.ver = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("];\n     browser.firefox = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("(browser.ver);\n   }\n } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/MSIE ([^;]+)/")]),s._v(".test(ua)) {\n   engine.ver = browser.ver = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("];\n   engine.ie = browser.ie = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("(engine.ver);\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//检测浏览器")]),s._v("\n browser.ie = engine.ie;\n browser.opera = engine.opera;\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//检测平台")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" p = navigator.platform;\n system.win = p.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Win"')]),s._v(") == "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n system.mac = p.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Mac"')]),s._v(") == "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n system.x11 = p == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"X11"')]),s._v(" || p.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Linux"')]),s._v(") == "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//检测Windows 操作系统")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (system.win) {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/Win(?:dows )?([^do]{2})\\s?(\\d+\\.\\d+)?/")]),s._v(".test(ua)) {\n     "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("] == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"NT"')]),s._v(") {\n       "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("switch")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$2"')]),s._v("]) {\n         "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"5.0"')]),s._v(":\n           system.win = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"2000"')]),s._v(";\n           "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n         "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"5.1"')]),s._v(":\n           system.win = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"XP"')]),s._v(";\n           "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n         "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"6.0"')]),s._v(":\n           system.win = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Vista"')]),s._v(";\n           "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n         "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"6.1"')]),s._v(":\n           system.win = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"7"')]),s._v(";\n           "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n         "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(":\n           system.win = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"NT"')]),s._v(";\n           "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n       }\n     } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("] == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"9x"')]),s._v(") {\n       system.win = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"ME"')]),s._v(";\n     } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n       system.win = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("];\n     }\n   }\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//移动设备")]),s._v("\n system.iphone = ua.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"iPhone"')]),s._v(") > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(";\n system.ipod = ua.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"iPod"')]),s._v(") > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(";\n system.ipad = ua.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"iPad"')]),s._v(") > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(";\n system.nokiaN = ua.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"NokiaN"')]),s._v(") > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(";\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//windows mobile")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (system.win == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"CE"')]),s._v(") {\n   system.winMobile = system.win;\n } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (system.win == "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Ph"')]),s._v(") {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/Windows Phone OS (\\d+.\\d+)/")]),s._v(".test(ua)) {\n     system.win = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Phone"')]),s._v(";\n     system.winMobile = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v("["),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$1"')]),s._v("]);\n   }\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//检测iOS 版本")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (system.mac && ua.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Mobile"')]),s._v(") > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(") {\n   "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/CPU (?:iPhone )?OS (\\d+_\\d+)/")]),s._v(".test(ua)) {\n     system.ios = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.")]),s._v("replace("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"_"')]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"."')]),s._v("));\n   } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n     system.ios = "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("; "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//不能真正检测出来，所以只能猜测")]),s._v("\n   }\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//检测Android 版本")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/Android (\\d+\\.\\d+)/")]),s._v(".test(ua)) {\n   system.android = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("parseFloat")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("RegExp")]),s._v(".$"),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n }\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//游戏系统")]),s._v("\n system.wii = ua.indexOf("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Wii"')]),s._v(") > "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v(";\n system.ps = "),t("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/playstation/i")]),s._v(".test(ua);\n "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//返回这些对象")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("engine")]),s._v(": engine,\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("browser")]),s._v(": browser,\n   "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("system")]),s._v(": system\n };\n})();\n")])])],2)],1)},e=[],n=t("25c1"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);p.options.__file="12.md";a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0b9834.dd31b4ce.js.map