(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab09a3d4","chunk-2d0ac21c"],{"17dd":function(t,s,a){t.exports=a.p+"img/javascript-17-01.3698a8bf.png"},"861f":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",[e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("事件冒泡")])]),e("ol",[e("li",[e("p",[t._v("IE 的事件流叫做事件冒泡(event bubbling)，即事件开始时由最具体的元素(文档中嵌套层次最深 的那个节点)接收，然后逐级向上传播到较为不具体的节点(文档)。")])]),e("li",[e("p",[t._v("如果你单击了页面中的"),e("code",{pre:!0},[t._v("<div>")]),t._v("元素，那么这个 "),e("code",{pre:!0},[t._v("click")]),t._v(" 事件会按照如下顺序传播:")]),e("p",[e("code",{pre:!0},[t._v("<div>")]),t._v(" => "),e("code",{pre:!0},[t._v("<body>")]),t._v(" => "),e("code",{pre:!0},[t._v("<html>")]),t._v(" => "),e("code",{pre:!0},[t._v("document")])])])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-html"},[t._v("html")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-meta"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("html")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("head")]),t._v(">")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("title")]),t._v(">")]),t._v("Event Bubbling Example"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("title")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("head")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("body")]),t._v(">")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("id")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myDiv"')]),t._v(">")]),t._v("Click Me"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("div")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("body")]),t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("html")]),t._v(">")]),t._v("\n")])]),e("blockquote",[e("p",[t._v("现代浏览器都支持事件冒泡，但在具体实现上还是有一些差别。\nIE5.5 及更早版本中的事件冒 泡会跳过 "),e("code",{pre:!0},[t._v("<html>")]),t._v(" 元素(从 "),e("code",{pre:!0},[t._v("<body>")]),t._v(" 直接跳到 "),e("code",{pre:!0},[t._v("document")]),t._v(")。\nIE9、Firefox、Chrome 和 Safari 则将事件一直 冒泡到 window 对象。")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("事件捕获")])]),e("p",[t._v("事件捕获的思想 是不太具体的节点应该更早接收到事件，而最具体的节点应该最后接收到事件。\n事件捕获的用意在于在 事件到达预定目标之前捕获它。")]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-html"},[t._v("html")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-meta"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("html")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("head")]),t._v(">")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("title")]),t._v(">")]),t._v("Event Bubbling Example"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("title")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("head")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("body")]),t._v(">")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("id")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myDiv"')]),t._v(">")]),t._v("Click Me"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("div")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("body")]),t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("html")]),t._v(">")]),t._v("\n")])]),e("p",[t._v("捕获顺序："),e("code",{pre:!0},[t._v("document")]),t._v(" => "),e("code",{pre:!0},[t._v("<html>")]),t._v(" => "),e("code",{pre:!0},[t._v("<body>")]),t._v(" => "),e("code",{pre:!0},[t._v("<div>")])]),e("blockquote",[e("p",[t._v("事件捕获是 Netscape Communicator 唯一支持的事件流模型，但 IE9、Safari、Chrome、Opera 和 Firefox 目前也都支持这种事件流模型。\n尽管“DOM2 级事件”规范要求事件应该从 "),e("code",{pre:!0},[t._v("document")]),t._v(" 对象 开始传播，但这些浏览器都是从 "),e("code",{pre:!0},[t._v("window")]),t._v(" 对象开始捕获事件的。\n由于老版本的浏览器不支持，因此很少有人使用事件捕获。建议使用事件冒泡，在有特殊需要时再使用事件捕获。")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("DOM 事件流")])]),e("p",[t._v("DOM2 级事件”规定的事件流包括三个阶段:事件捕获阶段、处于目标阶段和事件冒泡阶段。")]),e("p",[e("img",{attrs:{src:a("17dd"),alt:"事件流"}})]),e("p",[t._v("在 DOM 事件流中，实际的目标( "),e("code",{pre:!0},[t._v("<div>")]),t._v(" 元素)在捕获阶段不会接收到事件。这意味着在捕获阶段，事件从 "),e("code",{pre:!0},[t._v("document")]),t._v(" 到 "),e("code",{pre:!0},[t._v("<html>")]),t._v(" 再到 "),e("code",{pre:!0},[t._v("<body>")]),t._v(" 后就停止了。下一个阶段是“处于目标”阶段，于是事件在 "),e("code",{pre:!0},[t._v("<div>")]),t._v(" 上发生，并在事件处理中被看成冒泡阶段的一部分。然后，冒泡阶段发生， 事件又传播回文档。")]),e("blockquote",[e("p",[t._v("IE9、Opera、Firefox、Chrome 和 Safari 都支持 DOM 事件流;IE8 及更早版本不 支持 DOM 事件流。")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("HTML 事件处理程序")])]),e("ol",[e("li",[t._v("标签事件设置。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-html"},[t._v("html")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("type")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"button"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("value")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Click Me"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("onclick")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v("\"alert('Clicked')\"")]),t._v(" />")]),t._v("\n")])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("方法事件设置。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-html"},[t._v("html")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("type")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"button"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("value")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Click Me"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("onclick")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"showMessage()"')]),t._v(" />")]),t._v("\n")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-title"}},[t._v("showMessage")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Hello world!"')]),t._v(");\n}\n")])]),e("ol",{attrs:{start:"3"}},[e("li",[e("code",{pre:!0},[t._v("event")]),t._v(" 事件对象。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-html"},[t._v("html")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v('\x3c!-- 输出 "Click" --\x3e')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("type")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"button"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("value")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Click"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("onclick")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"alert(event.value)"')]),t._v(" />")]),t._v("\n")])]),e("ol",{attrs:{start:"4"}},[e("li",[e("code",{pre:!0},[t._v("html")]),t._v(" 事件通过 "),e("code",{pre:!0},[t._v("with")]),t._v(" 扩展作用域。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(")")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("with")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v("){\n     "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("with")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("this")]),t._v("){\n       "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//元素属性值")]),t._v("\n     }\n   }\n}\n")])]),e("ol",{attrs:{start:"5"}},[e("li",[t._v("表单作用域，实际内部就是设置 "),e("code",{pre:!0},[t._v("with")]),t._v(" 。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-html"},[t._v("html")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("form")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("method")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"post"')]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("type")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"text"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("name")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"username"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("value")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('""')]),t._v(" />")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("type")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"button"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("value")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Echo Username"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("onclick")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"alert(username.value)"')]),t._v(" />")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("form")]),t._v(">")]),t._v("\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("DOM0 级事件处理程序")])]),e("ol",[e("li",[t._v("每个元素(包括 "),e("code",{pre:!0},[t._v("window")]),t._v(" 和 "),e("code",{pre:!0},[t._v("document")]),t._v(")都有自己的事件处理程序属性。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Clicked"')]),t._v(");\n};\n")])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("DOM0 级方法指定的事件处理程序被认为是元素的方法，"),e("code",{pre:!0},[t._v("this")]),t._v(" 代表当前元素对象。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("this")]),t._v(".id); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v('//"myBtn"')]),t._v("\n};\n")])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("清除 DOM 0 级事件")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t._v("btn.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("null")]),t._v("; "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//删除事件处理程序")]),t._v("\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("DOM2 级事件处理程序")])]),e("ol",[e("li",[e("code",{pre:!0},[t._v("addEventListener()")]),t._v(" 事件绑定，绑定的事件会依次执行。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.addEventListener(\n "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n   alert("),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("this")]),t._v(".id);\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v("\n);\nbtn.addEventListener(\n "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n   alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Hello world!"')]),t._v(");\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v("\n);\n")])]),e("blockquote",[e("p",[t._v('两个事件处理程序会按照添加它们的顺序触发，因此首先 会显示元素的 ID，其次会显示"Hello world!"消息')])]),e("ol",{attrs:{start:"2"}},[e("li",[e("code",{pre:!0},[t._v("removeEventListener()")]),t._v(" 事件移除，移除参数与绑定的参数一致。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\n"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" handler = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("this")]),t._v(".id);\n};\nbtn.addEventListener("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(", handler, "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v(");\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//这里省略了其他代码")]),t._v("\nbtn.removeEventListener("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(", handler, "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v(");\n")])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("匿名函数绑定无法删除事件。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.addEventListener(\n "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n   alert("),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("this")]),t._v(".id);\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v("\n);\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//这里省略了其他代码")]),t._v("\nbtn.removeEventListener(\n "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//没有用! alert(this.id);")]),t._v("\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v("\n);\n")])]),e("blockquote",[e("p",[t._v("IE9、Firefox、Safari、Chrome 和 Opera 支持 DOM2 级事件处理程序。")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("IE 事件处理程序")])]),e("ol",[e("li",[e("code",{pre:!0},[t._v("attachEvent()")]),t._v(" 绑定事件。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.attachEvent("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"onclick"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Clicked"')]),t._v(");\n});\nbtn.attachEvent("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"onclick"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Hello world!"')]),t._v(");\n});\n")])]),e("blockquote",[e("p",[e("code",{pre:!0},[t._v("attachEvent()")]),t._v(" 的第一个参数是"),e("code",{pre:!0},[t._v("onclick")]),t._v("，而非 DOM 的 "),e("code",{pre:!0},[t._v("addEventListener()")]),t._v("方法中的"),e("code",{pre:!0},[t._v("click")]),t._v(" 。")])]),e("ol",{attrs:{start:"2"}},[e("li",[e("code",{pre:!0},[t._v("detachEvent()")]),t._v(" 删除绑定事件。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\n"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" handler = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Clicked"')]),t._v(");\n};\nbtn.attachEvent("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"onclick"')]),t._v(", handler);\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//这里省略了其他代码")]),t._v("\nbtn.detachEvent("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"onclick"')]),t._v(", handler);\n")])]),e("blockquote",[e("p",[t._v("支持 IE 事件处理程序的浏览器有 IE 和 Opera。")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("跨浏览器的事件处理程序")])]),e("p",[t._v("通过客户端检测调用对应的方法处理事件绑定兼容浏览器差异。")]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" EventUtil = {\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("addHandler")]),t._v(": "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("element, type, handler")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("if")]),t._v(" (element.addEventListener) {\n     element.addEventListener(type, handler, "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v(");\n   } "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("if")]),t._v(" (element.attachEvent) {\n     element.attachEvent("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"on"')]),t._v(" + type, handler);\n   } "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("else")]),t._v(" {\n     element["),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"on"')]),t._v(" + type] = handler;\n   }\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("removeHandler")]),t._v(": "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("element, type, handler")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("if")]),t._v(" (element.removeEventListener) {\n     element.removeEventListener(type, handler, "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v(");\n   } "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("if")]),t._v(" (element.detachEvent) {\n     element.detachEvent("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"on"')]),t._v(" + type, handler);\n   } "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("else")]),t._v(" {\n     element["),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"on"')]),t._v(" + type] = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("null")]),t._v(";\n   }\n }\n};\n\n"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\n"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" handler = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Clicked"')]),t._v(");\n};\nEventUtil.addHandler(btn, "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(", handler); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//这里省略了其他代码")]),t._v("\nEventUtil.removeHandler(btn, "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(", handler);\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("DOM 中的事件对象")])]),e("ol",[e("li",[t._v("事件绑定都会传入 "),e("code",{pre:!0},[t._v("event")]),t._v(" 对象。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(")")]),t._v("{ alert(event.type); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v('//"click"')]),t._v("\n   };\n   btn.addEventListener("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(")")]),t._v("{\nalert(event.type); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v('//"click" }, false);')]),t._v("\n")])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("event 属性和方法")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("属性/方法")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("bubbles")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("表明事件是否冒泡")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("cancelable")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("表明是否可以取消事件的默认行为")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("currentTarget")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Element")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("其事件处理程序当前正在处理事件的那个元素")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("defaultPrevented")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("为 true 表 示 已 经 调 用 了 preventDefault() (DOM3 级事件中新增)")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("detail")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Integer")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("与事件相关的细节信息")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("eventPhase")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Integer")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("调用事件处理程序的阶段:1 表示捕获阶段，2 表示“处于目标”，3 表示冒泡阶段")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("preventDefault()")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("取消事件的默认行为。如果 cancelable 是 true，则可以使用这个方法")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("stopImmediatePropagation()")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("取消事件的进一步捕获或冒泡，同时阻止任何事件处理程序被调用(DOM3 级事件中新增)")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("stopPropagation()")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("取消事件的进一步捕获或冒泡。如果 bubbles 为 true，则可以使用这个方法")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("target")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Element")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件的目标")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("trusted")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("为 true 表示事件是浏览器生成的。为 false 表 示事件是由开发人员通过 JavaScript 创建的(DOM3 级事件中新增)")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("type")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("被触发的事件的类型")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("view")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("AbstractView")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("与事件关联的抽象视图。等同于发生事件的 window 对象")])])])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("事件处理程序内部，对象 "),e("code",{pre:!0},[t._v("this")]),t._v(" 始终等于 "),e("code",{pre:!0},[t._v("currentTarget")]),t._v(" 的值，而 "),e("code",{pre:!0},[t._v("target")]),t._v(" 则只包含事件的实际目标。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n alert(event.currentTarget === "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("this")]),t._v("); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//true")]),t._v("\n alert(event.target === "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("this")]),t._v("); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//true")]),t._v("\n};\n")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".body.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n alert(event.currentTarget === "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".body); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//true")]),t._v("\n alert("),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("this")]),t._v(" === "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".body); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//true")]),t._v("\n alert(event.target === "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(")); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//true")]),t._v("\n};\n")])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("阻止默认行为例如 "),e("code",{pre:!0},[t._v("a")]),t._v(" 标签的跳转事件。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" link = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myLink"')]),t._v(");\nlink.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n event.preventDefault();\n};\n")])]),e("ol",{attrs:{start:"5"}},[e("li",[t._v("阻止冒泡。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Clicked"')]),t._v(");\n event.stopPropagation();\n};\n阻止了冒泡所以该事件不会执行;\n"),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".body.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Body clicked"')]),t._v(");\n DOMEventObjectExample04.htm;\n};\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("IE 中的事件对象")])]),e("ol",[e("li",[t._v("IE 中 "),e("code",{pre:!0},[t._v("event")]),t._v(" 对象作为 "),e("code",{pre:!0},[t._v("window")]),t._v(" 对象的一个属性存在。")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\nbtn.onclick = "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" event = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("window")]),t._v(".event;\n alert(event.type); "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v('//"click"')]),t._v("\n};\n")])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("IE 中 "),e("code",{pre:!0},[t._v("event")]),t._v(" 的属性方法。")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("cancelBubble")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("默认值为 false，但将其设置为 true 就可以取消事件冒泡(与 DOM 中 的 stopPropagation()方法的作用相同)")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("returnValue")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("默认值为 true，但将其设置为 false 就可以取消事件的默认行为(与 DOM 中的 preventDefault()方法的作用相同)")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("srcElement")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Element")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件的目标(与 DOM 中的 target 属性相同)")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("type")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("被触发的事件的类型")])])])])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("跨浏览器的事件对象")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" EventUtil = {\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("addHandler")]),t._v(": "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("element, type, handler")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//省略的代码")]),t._v("\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("getEvent")]),t._v(": "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("return")]),t._v(" event ? event : "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("window")]),t._v(".event;\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("getTarget")]),t._v(": "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("return")]),t._v(" event.target || event.srcElement;\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("preventDefault")]),t._v(": "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("if")]),t._v(" (event.preventDefault) {\n     event.preventDefault();\n   } "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("else")]),t._v(" {\n     event.returnValue = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v(";\n   }\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("removeHandler")]),t._v(": "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("element, type, handler")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//省略的代码")]),t._v("\n },\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("stopPropagation")]),t._v(": "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("if")]),t._v(" (event.stopPropagation) {\n     event.stopPropagation();\n   } "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("else")]),t._v(" {\n     event.cancelBubble = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("true")]),t._v(";\n   }\n }\n};\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("UI 事件")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("load")]),e("td",{staticStyle:{"text-align":"left"}},[e("code",{pre:!0},[t._v("window")]),t._v(" 、"),e("code",{pre:!0},[t._v("<img>")]),t._v(" 、 "),e("code",{pre:!0},[t._v("<object>")]),t._v(" 加载完成触发")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("unload")]),e("td",{staticStyle:{"text-align":"left"}},[e("code",{pre:!0},[t._v("window")]),t._v(" 、"),e("code",{pre:!0},[t._v("<object>")]),t._v("卸载完成触发")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("abort")]),e("td",{staticStyle:{"text-align":"left"}},[e("code",{pre:!0},[t._v("<object>")]),t._v("停止下载并且下载未完成触发")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("error")]),e("td",{staticStyle:{"text-align":"left"}},[e("code",{pre:!0},[t._v("window")]),t._v(" 、"),e("code",{pre:!0},[t._v("<img>")]),t._v(" 、 "),e("code",{pre:!0},[t._v("<object>")]),t._v(" 在 JavaScript 执行错误触发，或者加载错误触发")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("select")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("选择文本框("),e("code",{pre:!0},[t._v("<input>")]),t._v("或"),e("code",{pre:!0},[t._v("<texterea>")]),t._v(")中的一或多个字符时触发")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("resize")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("窗口或框架的大小变化时触发")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("scroll")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("滚动带滚动条的元素中的内容时，在该元素上面触发")])])])])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("Image 预加载")])]),e("p",[t._v("使用 "),e("code",{pre:!0},[t._v("Image")]),t._v(" 对象在客户端预先加载图像。可以像使用"),e("code",{pre:!0},[t._v("<img>")]),t._v("元素一样使用 "),e("code",{pre:!0},[t._v("Image")]),t._v(" 对象，只不过无法将其添 加到 DOM 树中。")]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[t._v("EventUtil.addHandler("),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("window")]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"load"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}}),t._v(") ")]),t._v("{\n "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" image = "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("new")]),t._v(" Image();\n EventUtil.addHandler(image, "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"load"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n   alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"Image loaded!"')]),t._v(");\n });\n image.src = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"smile.gif"')]),t._v(";\n});\n")])]),e("blockquote",[e("p",[t._v("在不属于 DOM 文档的图像(包括未添加到文档的 "),e("code",{pre:!0},[t._v("<img>")]),t._v("元素和 "),e("code",{pre:!0},[t._v("Image")]),t._v(" 对象)上触发 "),e("code",{pre:!0},[t._v("load")]),t._v(" 事件时，IE8 及之前版本不会生成 event 对象。IE9 修复了这个问题")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("焦点事件")])]),e("p",[t._v("焦点处理有各种事件和差异，使用 "),e("code",{pre:!0},[t._v("focus")]),t._v(" 和 "),e("code",{pre:!0},[t._v("blur")]),t._v(" 所有的浏览器都支持。")]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("focus")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取焦点触发")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("blur")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("失去焦点触发")])])])])]),e("blockquote",[e("p",[e("code",{pre:!0},[t._v("focus")]),t._v(" 和 "),e("code",{pre:!0},[t._v("blur")]),t._v(" 不冒泡，也可以在捕获阶段侦听到它们。")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("鼠标事件")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("click")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在用户单击主鼠标按钮")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("dblclick")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在用户双击主鼠标按钮")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mousedown")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在用户按下了任意鼠标按钮时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mouseenter")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在鼠标光标从元素外部首次移动到元素范围之内时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mouseleave")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在位于元素上方的鼠标光标移动到元素范围之外时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mousemove")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当鼠标指针在元素内部移动时重复地触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mousewheel")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("鼠标滚轮滚动触发。")])])])])]),e("blockquote",[e("p",[e("code",{pre:!0},[t._v("mouseenter")]),t._v(" 、 "),e("code",{pre:!0},[t._v("mouseleave")]),t._v(" 事件不冒泡，而且 在光标移动到后代元素上不会触发。\nDOM2 级事件并没有定义这个事件，但 DOM3 级事件将它纳入了规范。IE、Firefox 9+和 Opera 支持这个事件。")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("跨浏览器的滚轮参数")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" EventUtil = {\n "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//省略了其他代码")]),t._v("\n getWheelDelta: "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("if")]),t._v(" (event.wheelDelta) {\n     "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("return")]),t._v(" client.engine.opera && client.engine.opera < "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[t._v("9.5")]),t._v("\n       ? -event.wheelDelta\n       : event.wheelDelta;\n   } "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("else")]),t._v(" {\n     "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("return")]),t._v(" -event.detail * "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[t._v("40")]),t._v(";\n   }\n }\n "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//省略了其他代码")]),t._v("\n};\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("键盘与文本事件")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("keydown")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当用户按下键盘上的任意键时触发，而且如果按住不放的话，会重复触发此事件。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("keypress")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当用户按下键盘上的字符键时触发，而且如果按住不放的话，会重复触发此事件。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("keyup")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当用户释放键盘上的键时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("textInput")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当用户按下键盘上的任意键时触发。获取焦点不触发，keyress 获取会触发")])])])])]),e("blockquote",[e("p",[t._v("键盘事件与鼠标事件一样，都支持相同的修改键。而且，键盘事件的事件对象中 也有 shiftKey、ctrlKey、altKey 和 metaKey 属性。IE 不支持 metaKey。")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("复合事件")])]),e("p",[t._v("IME 通常需要同时按住多个键，但最终只输入一个字符。复合事件就是针对检测和处理这种输入而设计的，可以用于输入法的处理，例如输入法自读可以找到键盘不存在的字符。")]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("compositionstart")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在 IME 的文本复合系统打开时触发，表示要开始输入了。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("compositionupdate")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在向输入字段中插入新字符时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("compositionend")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在 IME 的文本复合系统关闭时触发，表示返回正常键盘输入状态")])])])])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" textbox = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myText"')]),t._v(");\nEventUtil.addHandler(textbox, "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"compositionstart"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n event = EventUtil.getEvent(event);\n alert(event.data);\n});\nEventUtil.addHandler(textbox, "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"compositionupdate"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n event = EventUtil.getEvent(event);\n alert(event.data);\n});\nEventUtil.addHandler(textbox, "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"compositionend"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n event = EventUtil.getEvent(event);\n alert(event.data);\n});\n")])]),e("blockquote",[e("p",[t._v("IE9+是到 2011 年唯一支持复合事件的浏览器。由于缺少支持，对于需要开发跨浏览器应用的开发人员，它的用处不大。要确定浏览器是否支持复合事件，可以使用以下代码:")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" isSupported = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".implementation.hasFeature("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"CompositionEvent"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"3.0"')]),t._v(");\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("变动事件")])]),e("ol",[e("li",[t._v("DOM2 级的变动（mutation）事件能在 DOM 中的某一部分发生变化时给出提示。\n变动事件是为 XML 或 HTML DOM 设计的，并不特定于某种语言。在节点增加、删除、替换等节点操作时候出发。")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("DOMSubtreeModified")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在 DOM 结构中发生任何变化时触发。这个事件在其他任何事件触发 10 后都会触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("DOMNodeInserted")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在一个节点作为子节点被插入到另一个节点中时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("DOMNodeRemoved")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在节点从其父节点中被移除时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("DOMNodeInsertedIntoDocument")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在一个节点被直接插入文档或通过子树间接插入文档之后触发。这个事件在 DOMNodeInserted 之后触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("DOMNodeRemovedFromDocument")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在一个节点被直接从文档中移除或通过子树间接从文档中移除之前触发。这个事件在 DOMNodeRemoved 之后触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("DOMAttrModified")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在特性被修改之后触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("DOMCharacterDataModified")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("在文本节点的值发生变化时触发。")])])])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("事件变动检测")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" isSupported = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".implementation.hasFeature("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"MutationEvents"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"2.0"')]),t._v(");\n")])]),e("blockquote",[e("p",[t._v("IE8 及更早版本不支持任何变动事件")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("HTML5 事件")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("contextmenu")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("鼠标右键按下触发，可以屏蔽原有默认的鼠标右键菜单")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("beforeunload")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("卸载前出发，返回消息提示用户是否继续留在页面")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("DOMContentLoaded")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("DOM 树构建完成触发，不管图片，JavaScript 文件，css 文件的加载")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("readystatechange")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("加载状态改变触发，会经历不同加载状态，状态难以预料")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pageshow")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("将 DOM 状态和事件参数等保存到 bfcache，页面显示触发，保留其状态")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pagehide")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("将 DOM 状态和事件参数等保存到 bfcache，页面隐藏触发，保留其状态")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("hashchange")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("url 的哈希值改变触发，存储当前和上次的 url 值")])])])])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("设备事件")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("orientationchange")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("手机屏幕横线旋转触发")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("MozOrientation")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("Firefox 3.6 为检测设备的方向，各个方向 x、y、z 坐标")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("deviceorientation")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("类似于 deviceorientation 事件")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("devicemotion")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("设置移动触发")])])])])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("触摸事件")])]),e("ol",[e("li",[t._v("触摸操作事件")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("touchstart")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当手指触摸屏幕时触发;即使已经有一个手指放在了屏幕上也会触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("touchmove")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当手指在屏幕上滑动时连续地触发。在这个事件发生期间，调用 preventDefault()可以阻止滚动")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("touchend")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当手指从屏幕上移开时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("touchcancel")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当系统停止跟踪触摸时触发。")])])])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("触摸事件的 event 包含通用的事件对象属性方法还包含一些关于触摸的参数和操作")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("属性")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("touches")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("表示当前跟踪的触摸操作的 Touch 对象的数组。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("targetTouchs")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("特定于事件目标的 Touch 对象的数组。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("changeTouches")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("表示自上次触摸以来发生了什么改变的 Touch 对象的数组。")])])])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("Touch 对象属性")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("属性")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientX")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("触摸目标在视口中的 x 坐标。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("clientY")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("触摸目标在视口中的 y 坐标。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("identifier")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("标识触摸的唯一 ID。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pageX")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("触摸目标在页面中的 x 坐标。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pageY")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("触摸目标在页面中的 y 坐标。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("screenX")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("触摸目标在屏幕中的 x 坐标。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("screenY")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("触摸目标在屏幕中的 y 坐标。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("target")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("触摸的 DOM 节点目标。")])])])])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("手势事件")])]),e("div",{staticClass:"k-snippet--table"},[e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("事件")]),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("gesturestart")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当一个手指已经按在屏幕上而另一个手指又触摸屏幕时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("gesturechange")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当触摸屏幕的任何一个手指的位置发生变化时触发。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("gestureend")]),e("td",{staticStyle:{"text-align":"left"}},[t._v("当任何一个手指从屏幕上面移开时触发。")])])])])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("内存和性能")])]),e("p",[t._v("由于事件处理程序可以为现代 Web 应用程序提供交互能力，因此许多开发人员会不分青红皂白地 向页面中添加大量的处理程序。\n在创建 GUI 的语言(如 C#)中，为 GUI 中的每个按钮添加一个 onclick 事件处理程序是司空见惯的事，而且这样做也不会导致什么问题。\n可是在 JavaScript 中，添加到页面上 的事件处理程序数量将直接关系到页面的整体运行性能。导致这一问题的原因是多方面的。\n首先，每个 函数都是对象，都会占用内存;内存中的对象越多，性能就越差。\n其次，必须事先指定所有事件处理程 序而导致的 DOM 访问次数，会延迟整个页面的交互就绪时间。\n事实上，从如何利用好事件处理程序的 角度出发，还是有一些方法能够提升性能的。")])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("事件委托")])]),e("p",[t._v("对“事件处理程序过多”问题的解决方案就是事件委托。事件委托利用了事件冒泡，只指定一个事 件处理程序，就可以管理某一类型的所有事件。")]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-html"},[t._v("html")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("ul")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("id")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myLinks"')]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("li")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("id")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"goSomewhere"')]),t._v(">")]),t._v("Go somewhere"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("li")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("li")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("id")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"doSomething"')]),t._v(">")]),t._v("Do something"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("li")]),t._v(">")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("li")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[t._v("id")]),t._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"sayHi"')]),t._v(">")]),t._v("Say hi"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("li")]),t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[t._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[t._v("ul")]),t._v(">")]),t._v("\n")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" list = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myLinks"')]),t._v(");\nEventUtil.addHandler(list, "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"click"')]),t._v(", "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("function")]),t._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[t._v("event")]),t._v(") ")]),t._v("{\n "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//通过事件冒泡获取单击的元素冒泡到上级元素判断类型参数触发事件")]),t._v("\n event = EventUtil.getEvent(event);\n "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" target = EventUtil.getTarget(event);\n "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("switch")]),t._v(" (target.id) {\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("case")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"doSomething"')]),t._v(":\n     "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".title = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"I changed the document\'s title"')]),t._v(";\n     "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("break")]),t._v(";\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("case")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"goSomewhere"')]),t._v(":\n     location.href = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"http://www.wrox.com"')]),t._v(";\n     "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("break")]),t._v(";\n   "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("case")]),t._v(" "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"sayHi"')]),t._v(":\n     alert("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"hi"')]),t._v(");\n     "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("break")]),t._v(";\n }\n});\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("DOM 中的事件模拟")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" btn = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myBtn"')]),t._v(");\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//模拟事件参数：KeyboardEvent、MouseEvents、KeyEvents、MutationEvents")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" event = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".createEvent("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"MouseEvents"')]),t._v(");\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//根据不同的参数调用对应不同的方法设置event参数")]),t._v("\nevent.initMouseEvent(参数);\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("// 触发事件")]),t._v("\nbtn.dispatchEvent(event);\n")])])],2),e("k-snippet",{attrs:{title:""}},[e("template",{slot:"title"},[e("p",[t._v("IE 中的事件模拟")])]),e("div",{staticClass:"k-snippet--tag k-snippet--tag-javascript"},[t._v("javascript")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" textbox = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".getElementById("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"myTextbox"')]),t._v(");\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//创建事件对象")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("var")]),t._v(" event = "),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[t._v("document")]),t._v(".createEventObject();\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//初始化事件对象")]),t._v("\nevent.altKey = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v(";\nevent.ctrlKey = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v(";\nevent.shiftKey = "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[t._v("false")]),t._v(";\nevent.keyCode = "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[t._v("65")]),t._v(";\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("//触发事件")]),t._v("\ntextbox.fireEvent("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v('"onkeypress"')]),t._v(", event);\n")])])],2)],1)},l=[],r=a("2877"),n={},v=Object(r["a"])(n,e,l,!1,null,null,null);s["default"]=v.exports}}]);
//# sourceMappingURL=chunk-ab09a3d4.87866d86.js.map